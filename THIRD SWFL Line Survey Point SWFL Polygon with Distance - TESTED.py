import arcpy

# To allow overwriting outputs change overwriteOutput option to True.
arcpy.env.overwriteOutput = True

SWFL_Line = "https://services1.arcgis.com/ypdMhhEhrtBXLtQv/arcgis/rest/services/SWFL_Root_2020/FeatureServer/5"
SWFL_Polygon = "https://services1.arcgis.com/ypdMhhEhrtBXLtQv/arcgis/rest/services/SWFL_Root_2020/FeatureServer/6"
General_Polygon ="https://services1.arcgis.com/ypdMhhEhrtBXLtQv/arcgis/rest/services/SWFL_Root_2020/FeatureServer/7"



# Process: Select Layer By Attribute (4) (Select Layer By Attribute) 
arcpy.SelectLayerByAttribute_management(in_layer_or_view=SWFL_Line, selection_type="NEW_SELECTION", where_clause="map = 'Monitoring' And section IS NULL", invert_where_clause="")
# Process: Spatial Join (4) (Spatial Join) 
SWFL_Line_SpatialJoin = r"N:\Projects\43000\43741-000 LCR SWFL\APRX\SWFL Scripts\SWFL_DF_Scripts\SWFL_DF_Scripts.gdb\SWFL_Line_SpatialJoin"
arcpy.SpatialJoin_analysis(target_features=SWFL_Line, join_features=Sites, out_feature_class=SWFL_Line_SpatialJoin, join_operation="JOIN_ONE_TO_ONE", join_type="KEEP_ALL", field_mapping="wifl_det_type \"Detection Type\" true true false 50 Text 0 0,First,#,WIFL Detection,wifl_det_type,0,50;det_beh \"Behavior\" true true false 50 Text 0 0,First,#,WIFL Detection,det_beh,0,50;ter_id \"Territory ID\" true true false 10 Text 0 0,First,#,WIFL Detection,ter_id,0,10;bearing \"Offset Bearing\" true true false 0 Double 0 0,First,#,WIFL Detection,bearing,-1,-1;distance \"Offset Distance\" true true false 0 Double 0 0,First,#,WIFL Detection,distance,-1,-1;det_type \"Method of Detection\" true true false 255 Text 0 0,First,#,WIFL Detection,det_type,0,255;timing \"Detected during timed window?\" true true false 50 Text 0 0,First,#,WIFL Detection,timing,0,50;notes \"Comments\" true true false 4000 Text 0 0,First,#,WIFL Detection,notes,0,4000;date_coll \"Date Collected\" true true false 8 Date 0 0,First,#,WIFL Detection,date_coll,-1,-1;obs_select \"Observer\" true true false 500 Text 0 0,First,#,WIFL Detection,obs_select,0,500;section \"Area-Site\" true true false 50 Text 0 0,First,#,WIFL Detection,section,0,50;ofc_editor_1 \"Office Editor 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_1,0,500;ofc_editdate_1 \"Office Edit Date 1\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_1,-1,-1;ofc_edit_1 \"Office Edit 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_1,0,500;ofc_editor_2 \"Office Editor 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_2,0,500;ofc_editdate_2 \"Office Edit Date 2\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_2,-1,-1;ofc_edit_2 \"Office Edit 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_2,0,500;CreationDate \"CreationDate 1\" true true false 8 Date 0 0,First,#,WIFL Detection,CreationDate,-1,-1;Creator \"Creator_1\" true true false 128 Text 0 0,First,#,WIFL Detection,Creator,0,128;EditDate \"EditDate\" true true false 8 Date 0 0,First,#,WIFL Detection,EditDate,-1,-1;Editor \"Editor\" true true false 128 Text 0 0,First,#,WIFL Detection,Editor,0,128;parentglobalid \"Parent GlobalID\" true true false 38 Guid 0 0,First,#,WIFL Detection,parentglobalid,-1,-1;GlobalID \"GlobalID\" false false true 38 GlobalID 0 0,First,#,WIFL Detection,GlobalID,-1,-1;map \"Map\" true true false 255 Text 0 0,First,#,WIFL Detection,map,0,255;key_ \"Key\" true true false 255 Text 0 0,First,#,WIFL Detection,key_,0,255;Name \"Name\" true true false 320 Text 0 0,First,#,Sites,Name,0,320;GlobalID_1 \"GlobalID\" false false true 38 GlobalID 0 0,First,#,Sites,GlobalID,-1,-1;CreationDate_1 \"CreationDate\" false true false 8 Date 0 0,First,#,Sites,CreationDate,-1,-1;Creator_1 \"Creator\" false true false 128 Text 0 0,First,#,Sites,Creator,0,128;EditDate_1 \"EditDate\" false true false 8 Date 0 0,First,#,Sites,EditDate,-1,-1;Editor_1 \"Editor\" false true false 128 Text 0 0,First,#,Sites,Editor,0,128;study_area \"Study Area\" true true false 10 Text 0 0,First,#,Sites,study_area,0,10;State \"State\" true true false 5 Text 0 0,First,#,Sites,State,0,5;Land_Mngr \"Land Manager\" true true false 50 Text 0 0,First,#,Sites,Land_Mngr,0,50;area \"Area_ha\" true true false 0 Float 0 0,First,#,Sites,area,-1,-1;mgmt_authority \"mgmt_authority\" true true false 255 Text 0 0,First,#,Sites,mgmt_authority,0,255;veg_spp_1 \"veg_spp_1\" true true false 255 Text 0 0,First,#,Sites,veg_spp_1,0,255;veg_spp_2 \"veg_spp_2\" true true false 255 Text 0 0,First,#,Sites,veg_spp_2,0,255;veg_spp_3 \"veg_spp_3\" true true false 255 Text 0 0,First,#,Sites,veg_spp_3,0,255;veg_spp_4 \"veg_spp_4\" true true false 255 Text 0 0,First,#,Sites,veg_spp_4,0,255;veg_characteristics \"veg_characteristics\" true true false 255 Text 0 0,First,#,Sites,veg_characteristics,0,255;canopy_ht \"Canopy_Height\" true true false 0 Double 0 0,First,#,Sites,canopy_ht,-1,-1;fws_permit_number \"FWS_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,fws_permit_number,0,255;state_permit_number \"State_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,state_permit_number,0,255;type \"Effort_Type\" true true false 255 Text 0 0,First,#,Sites,type,0,255;NameCalc \"Name Calc\" true true false 255 Text 0 0,First,#,Sites,NameCalc,0,255;Shape__Area \"Shape__Area\" true true false 0 Double 0 0,First,#,Sites,Shape__Area,-1,-1;Shape__Length \"Shape__Length\" true true false 0 Double 0 0,First,#,Sites,Shape__Length,-1,-1;Shape__Area_2 \"Shape__Area_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Area_2,-1,-1;Shape__Length_2 \"Shape__Length_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Length_2,-1,-1;Glob_ID \"Glob_ID\" true false false 38 Guid 0 0,First,#,WIFL Detection,GlobalID,-1,-1", match_option="CLOSEST", search_radius="", distance_field_name="site_distance")
# Process: Add Field (4) (Add Field) 
arcpy.AddField_management(in_table=SWFL_Line_SpatialJoin, field_name="sau_field", field_type="TEXT", field_precision=None, field_scale=None, field_length=50, field_alias="", field_is_nullable="NULLABLE", field_is_required="NON_REQUIRED", field_domain="")[0]
# Process: Calculate Field (10) (Calculate Field) 
arcpy.CalculateField_management(in_table=SWFL_Line_SpatialJoin, field="sau_field", expression="reclass(!site_distance!,!Name!)", expression_type="PYTHON3", code_block=code_block1)

cursor1 = arcpy.da.SearchCursor(SWFL_Line_SpatialJoin, ['Glob_ID', 'sau_field'])

# make a dictionary and store values from watershed table
sectionsUpdateSWFLL = {}
for row in cursor1:
  sectionsUpdateSWFLL[row[0]]=row[1]

# Process: Select Layer By Attribute (4) (Select Layer By Attribute) 
arcpy.SelectLayerByAttribute_management(in_layer_or_view=SWFL_Polygon, selection_type="NEW_SELECTION", where_clause="map = 'Monitoring' And section IS NULL", invert_where_clause="")
# Process: Spatial Join (4) (Spatial Join) 
SWFL_Polygon_SpatialJoin = r"N:\Projects\43000\43741-000 LCR SWFL\APRX\SWFL Scripts\SWFL_DF_Scripts\SWFL_DF_Scripts.gdb\SWFL_Polygon_SpatialJoin"
arcpy.SpatialJoin_analysis(target_features=SWFL_Polygon, join_features=Sites, out_feature_class=SWFL_Polygon_SpatialJoin, join_operation="JOIN_ONE_TO_ONE", join_type="KEEP_ALL", field_mapping="wifl_det_type \"Detection Type\" true true false 50 Text 0 0,First,#,WIFL Detection,wifl_det_type,0,50;det_beh \"Behavior\" true true false 50 Text 0 0,First,#,WIFL Detection,det_beh,0,50;ter_id \"Territory ID\" true true false 10 Text 0 0,First,#,WIFL Detection,ter_id,0,10;bearing \"Offset Bearing\" true true false 0 Double 0 0,First,#,WIFL Detection,bearing,-1,-1;distance \"Offset Distance\" true true false 0 Double 0 0,First,#,WIFL Detection,distance,-1,-1;det_type \"Method of Detection\" true true false 255 Text 0 0,First,#,WIFL Detection,det_type,0,255;timing \"Detected during timed window?\" true true false 50 Text 0 0,First,#,WIFL Detection,timing,0,50;notes \"Comments\" true true false 4000 Text 0 0,First,#,WIFL Detection,notes,0,4000;date_coll \"Date Collected\" true true false 8 Date 0 0,First,#,WIFL Detection,date_coll,-1,-1;obs_select \"Observer\" true true false 500 Text 0 0,First,#,WIFL Detection,obs_select,0,500;section \"Area-Site\" true true false 50 Text 0 0,First,#,WIFL Detection,section,0,50;ofc_editor_1 \"Office Editor 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_1,0,500;ofc_editdate_1 \"Office Edit Date 1\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_1,-1,-1;ofc_edit_1 \"Office Edit 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_1,0,500;ofc_editor_2 \"Office Editor 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_2,0,500;ofc_editdate_2 \"Office Edit Date 2\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_2,-1,-1;ofc_edit_2 \"Office Edit 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_2,0,500;CreationDate \"CreationDate 1\" true true false 8 Date 0 0,First,#,WIFL Detection,CreationDate,-1,-1;Creator \"Creator_1\" true true false 128 Text 0 0,First,#,WIFL Detection,Creator,0,128;EditDate \"EditDate\" true true false 8 Date 0 0,First,#,WIFL Detection,EditDate,-1,-1;Editor \"Editor\" true true false 128 Text 0 0,First,#,WIFL Detection,Editor,0,128;parentglobalid \"Parent GlobalID\" true true false 38 Guid 0 0,First,#,WIFL Detection,parentglobalid,-1,-1;GlobalID \"GlobalID\" false false true 38 GlobalID 0 0,First,#,WIFL Detection,GlobalID,-1,-1;map \"Map\" true true false 255 Text 0 0,First,#,WIFL Detection,map,0,255;key_ \"Key\" true true false 255 Text 0 0,First,#,WIFL Detection,key_,0,255;Name \"Name\" true true false 320 Text 0 0,First,#,Sites,Name,0,320;GlobalID_1 \"GlobalID\" false false true 38 GlobalID 0 0,First,#,Sites,GlobalID,-1,-1;CreationDate_1 \"CreationDate\" false true false 8 Date 0 0,First,#,Sites,CreationDate,-1,-1;Creator_1 \"Creator\" false true false 128 Text 0 0,First,#,Sites,Creator,0,128;EditDate_1 \"EditDate\" false true false 8 Date 0 0,First,#,Sites,EditDate,-1,-1;Editor_1 \"Editor\" false true false 128 Text 0 0,First,#,Sites,Editor,0,128;study_area \"Study Area\" true true false 10 Text 0 0,First,#,Sites,study_area,0,10;State \"State\" true true false 5 Text 0 0,First,#,Sites,State,0,5;Land_Mngr \"Land Manager\" true true false 50 Text 0 0,First,#,Sites,Land_Mngr,0,50;area \"Area_ha\" true true false 0 Float 0 0,First,#,Sites,area,-1,-1;mgmt_authority \"mgmt_authority\" true true false 255 Text 0 0,First,#,Sites,mgmt_authority,0,255;veg_spp_1 \"veg_spp_1\" true true false 255 Text 0 0,First,#,Sites,veg_spp_1,0,255;veg_spp_2 \"veg_spp_2\" true true false 255 Text 0 0,First,#,Sites,veg_spp_2,0,255;veg_spp_3 \"veg_spp_3\" true true false 255 Text 0 0,First,#,Sites,veg_spp_3,0,255;veg_spp_4 \"veg_spp_4\" true true false 255 Text 0 0,First,#,Sites,veg_spp_4,0,255;veg_characteristics \"veg_characteristics\" true true false 255 Text 0 0,First,#,Sites,veg_characteristics,0,255;canopy_ht \"Canopy_Height\" true true false 0 Double 0 0,First,#,Sites,canopy_ht,-1,-1;fws_permit_number \"FWS_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,fws_permit_number,0,255;state_permit_number \"State_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,state_permit_number,0,255;type \"Effort_Type\" true true false 255 Text 0 0,First,#,Sites,type,0,255;NameCalc \"Name Calc\" true true false 255 Text 0 0,First,#,Sites,NameCalc,0,255;Shape__Area \"Shape__Area\" true true false 0 Double 0 0,First,#,Sites,Shape__Area,-1,-1;Shape__Length \"Shape__Length\" true true false 0 Double 0 0,First,#,Sites,Shape__Length,-1,-1;Shape__Area_2 \"Shape__Area_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Area_2,-1,-1;Shape__Length_2 \"Shape__Length_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Length_2,-1,-1;Glob_ID \"Glob_ID\" true false false 38 Guid 0 0,First,#,WIFL Detection,GlobalID,-1,-1", match_option="CLOSEST", search_radius="", distance_field_name="site_distance")
# Process: Add Field (4) (Add Field) 
arcpy.AddField_management(in_table=SWFL_Polygon_SpatialJoin, field_name="sau_field", field_type="TEXT", field_precision=None, field_scale=None, field_length=50, field_alias="", field_is_nullable="NULLABLE", field_is_required="NON_REQUIRED", field_domain="")[0]
# Process: Calculate Field (10) (Calculate Field) 
arcpy.CalculateField_management(in_table=SWFL_Polygon_SpatialJoin, field="sau_field", expression="reclass(!site_distance!,!Name!)", expression_type="PYTHON3", code_block=code_block1)

cursor2 = arcpy.da.SearchCursor(SWFL_Polygon_SpatialJoin, ['Glob_ID', 'sau_field'])

# make a dictionary and store values from watershed table
sectionsUpdateSWFLP = {}
for row in cursor2:
  sectionsUpdateSWFLP[row[0]]=row[1]



  # Process: Select Layer By Attribute (4) (Select Layer By Attribute) 
arcpy.SelectLayerByAttribute_management(in_layer_or_view=WIFL_Detection, selection_type="NEW_SELECTION", where_clause="map = 'Monitoring' And section IS NULL", invert_where_clause="")
# Process: Spatial Join (4) (Spatial Join) 
General_Polygon_SpatialJoin = r"N:\Projects\43000\43741-000 LCR SWFL\APRX\SWFL Scripts\SWFL_DF_Scripts\SWFL_DF_Scripts.gdb\General_Polygon_SpatialJoin"
arcpy.SpatialJoin_analysis(target_features=WIFL_Detection, join_features=Sites, out_feature_class=General_Polygon_SpatialJoin, join_operation="JOIN_ONE_TO_ONE", join_type="KEEP_ALL", field_mapping="wifl_det_type \"Detection Type\" true true false 50 Text 0 0,First,#,WIFL Detection,wifl_det_type,0,50;det_beh \"Behavior\" true true false 50 Text 0 0,First,#,WIFL Detection,det_beh,0,50;ter_id \"Territory ID\" true true false 10 Text 0 0,First,#,WIFL Detection,ter_id,0,10;bearing \"Offset Bearing\" true true false 0 Double 0 0,First,#,WIFL Detection,bearing,-1,-1;distance \"Offset Distance\" true true false 0 Double 0 0,First,#,WIFL Detection,distance,-1,-1;det_type \"Method of Detection\" true true false 255 Text 0 0,First,#,WIFL Detection,det_type,0,255;timing \"Detected during timed window?\" true true false 50 Text 0 0,First,#,WIFL Detection,timing,0,50;notes \"Comments\" true true false 4000 Text 0 0,First,#,WIFL Detection,notes,0,4000;date_coll \"Date Collected\" true true false 8 Date 0 0,First,#,WIFL Detection,date_coll,-1,-1;obs_select \"Observer\" true true false 500 Text 0 0,First,#,WIFL Detection,obs_select,0,500;section \"Area-Site\" true true false 50 Text 0 0,First,#,WIFL Detection,section,0,50;ofc_editor_1 \"Office Editor 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_1,0,500;ofc_editdate_1 \"Office Edit Date 1\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_1,-1,-1;ofc_edit_1 \"Office Edit 1\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_1,0,500;ofc_editor_2 \"Office Editor 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_editor_2,0,500;ofc_editdate_2 \"Office Edit Date 2\" true true false 8 Date 0 0,First,#,WIFL Detection,ofc_editdate_2,-1,-1;ofc_edit_2 \"Office Edit 2\" true true false 500 Text 0 0,First,#,WIFL Detection,ofc_edit_2,0,500;CreationDate \"CreationDate 1\" true true false 8 Date 0 0,First,#,WIFL Detection,CreationDate,-1,-1;Creator \"Creator_1\" true true false 128 Text 0 0,First,#,WIFL Detection,Creator,0,128;EditDate \"EditDate\" true true false 8 Date 0 0,First,#,WIFL Detection,EditDate,-1,-1;Editor \"Editor\" true true false 128 Text 0 0,First,#,WIFL Detection,Editor,0,128;parentglobalid \"Parent GlobalID\" true true false 38 Guid 0 0,First,#,WIFL Detection,parentglobalid,-1,-1;GlobalID \"GlobalID\" false false true 38 GlobalID 0 0,First,#,WIFL Detection,GlobalID,-1,-1;map \"Map\" true true false 255 Text 0 0,First,#,WIFL Detection,map,0,255;key_ \"Key\" true true false 255 Text 0 0,First,#,WIFL Detection,key_,0,255;Name \"Name\" true true false 320 Text 0 0,First,#,Sites,Name,0,320;GlobalID_1 \"GlobalID\" false false true 38 GlobalID 0 0,First,#,Sites,GlobalID,-1,-1;CreationDate_1 \"CreationDate\" false true false 8 Date 0 0,First,#,Sites,CreationDate,-1,-1;Creator_1 \"Creator\" false true false 128 Text 0 0,First,#,Sites,Creator,0,128;EditDate_1 \"EditDate\" false true false 8 Date 0 0,First,#,Sites,EditDate,-1,-1;Editor_1 \"Editor\" false true false 128 Text 0 0,First,#,Sites,Editor,0,128;study_area \"Study Area\" true true false 10 Text 0 0,First,#,Sites,study_area,0,10;State \"State\" true true false 5 Text 0 0,First,#,Sites,State,0,5;Land_Mngr \"Land Manager\" true true false 50 Text 0 0,First,#,Sites,Land_Mngr,0,50;area \"Area_ha\" true true false 0 Float 0 0,First,#,Sites,area,-1,-1;mgmt_authority \"mgmt_authority\" true true false 255 Text 0 0,First,#,Sites,mgmt_authority,0,255;veg_spp_1 \"veg_spp_1\" true true false 255 Text 0 0,First,#,Sites,veg_spp_1,0,255;veg_spp_2 \"veg_spp_2\" true true false 255 Text 0 0,First,#,Sites,veg_spp_2,0,255;veg_spp_3 \"veg_spp_3\" true true false 255 Text 0 0,First,#,Sites,veg_spp_3,0,255;veg_spp_4 \"veg_spp_4\" true true false 255 Text 0 0,First,#,Sites,veg_spp_4,0,255;veg_characteristics \"veg_characteristics\" true true false 255 Text 0 0,First,#,Sites,veg_characteristics,0,255;canopy_ht \"Canopy_Height\" true true false 0 Double 0 0,First,#,Sites,canopy_ht,-1,-1;fws_permit_number \"FWS_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,fws_permit_number,0,255;state_permit_number \"State_Permit_Num\" true true false 255 Text 0 0,First,#,Sites,state_permit_number,0,255;type \"Effort_Type\" true true false 255 Text 0 0,First,#,Sites,type,0,255;NameCalc \"Name Calc\" true true false 255 Text 0 0,First,#,Sites,NameCalc,0,255;Shape__Area \"Shape__Area\" true true false 0 Double 0 0,First,#,Sites,Shape__Area,-1,-1;Shape__Length \"Shape__Length\" true true false 0 Double 0 0,First,#,Sites,Shape__Length,-1,-1;Shape__Area_2 \"Shape__Area_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Area_2,-1,-1;Shape__Length_2 \"Shape__Length_2\" false true false 0 Double 0 0,First,#,Sites,Shape__Length_2,-1,-1;Glob_ID \"Glob_ID\" true false false 38 Guid 0 0,First,#,WIFL Detection,GlobalID,-1,-1", match_option="CLOSEST", search_radius="", distance_field_name="site_distance")
# Process: Add Field (4) (Add Field) 
arcpy.AddField_management(in_table=General_Polygon_SpatialJoin, field_name="sau_field", field_type="TEXT", field_precision=None, field_scale=None, field_length=50, field_alias="", field_is_nullable="NULLABLE", field_is_required="NON_REQUIRED", field_domain="")[0]
# Process: Calculate Field (10) (Calculate Field) 
arcpy.CalculateField_management(in_table=General_Polygon_SpatialJoin, field="sau_field", expression="reclass(!site_distance!,!Name!)", expression_type="PYTHON3", code_block=code_block1)

cursor3 = arcpy.da.SearchCursor(General_Polygon_SpatialJoin, ['Glob_ID', 'sau_field'])

# make a dictionary and store values from watershed table
sectionsUpdateGP = {}
for row in cursor3:
  sectionsUpdateGP[row[0]]=row[1]

fields = ['GlobalID','section']

# Create update cursor for Survey Start Stop feature class to add start and stop times and unique site area IDs 
with arcpy.da.UpdateCursor(SWFL_Line, fields) as cursor:
    for row in cursor:
        for key, value in sectionsUpdateSSS.items():
            if key.lower() == row[0].lower():
                row[1] = value
            else:
                pass
        cursor.updateRow(row)


# Create update cursor for Survey Start Stop feature class to add start and stop times and unique site area IDs 
with arcpy.da.UpdateCursor(SWFL_Polygon, fields) as cursor:
    for row in cursor:
        for key, value in sectionsUpdateOS.items():
            if key.lower() == row[0].lower():
                row[1] = value
            else:
                pass
        cursor.updateRow(row)


# Create update cursor for Survey Start Stop feature class to add start and stop times and unique site area IDs 
with arcpy.da.UpdateCursor(General_Polygon, fields) as cursor:
    for row in cursor:
        for key, value in sectionsUpdateWIFL.items():
            if key.lower() == row[0].lower():
                row[1] = value
            else:
                pass
        cursor.updateRow(row)